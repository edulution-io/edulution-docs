edu fileroxy install

https://package.edulution.io/ da gibt es anleitung 

erstmal package server dokuerstellen da sind alle dulution pagkaes verfügbar bis jetzt nur das in der fileproxyy seite sagen erst paclage server einrichten dann gehte s weiter 


🚀 Edulution Paket-Server
Repository für Edulution-Pakete

📦 Repository einrichten
Folgen Sie diesen Schritten, um das Edulution-Repository auf Ihrem System zu installieren:

1 GPG-Schlüssel hinzufügen
Fügen Sie den öffentlichen Schlüssel des Repositories hinzu:

curl -fsSL https://package.edulution.io/pub.gpg | sudo gpg --dearmor -o /usr/share/keyrings/edulution.gpg
2 Repository zur Quellenliste hinzufügen
Fügen Sie das Repository zu Ihrer APT-Konfiguration hinzu:

echo "deb [signed-by=/usr/share/keyrings/edulution.gpg] https://package.edulution.io/ nobel main" | sudo tee /etc/apt/sources.list.d/edulution.list
3 Paketliste aktualisieren
Aktualisieren Sie die Paketquellen:

sudo apt update
📋 Verfügbare Pakete
Paket	Version	Architektur	Größe
📦 edulution-fileproxy	1.0.14	amd64	5.6 MB
🔍 Repository-Struktur
dists/ - Distributionsverzeichnisse
pool/ - Paket-Pool
pub.gpg - Öffentlicher GPG-Schlüssel


Fileproxy
was ister das:
Was ist es?

  edulution-fileproxy ist ein WebDAV-zu-SMB Proxy-Server, geschrieben in Go. Er fungiert als Brücke
  zwischen WebDAV-Clients und SMB/CIFS-Dateifreigaben.

  Was macht es?

  Der Server bietet folgende Hauptfunktionen:

  1. WebDAV-Server: Stellt einen WebDAV-Endpunkt bereit, auf den Clients zugreifen können
  2. SMB/CIFS-Backend: Verbindet sich im Hintergrund mit Windows-Dateifreigaben (SMB)
  3. LDAP-Authentifizierung: Authentifiziert Benutzer über LDAP (z.B. Active Directory)
  4. Share-Autodiscover: Kann automatisch SMB-Freigaben erkennen oder nutzt manuell konfigurierte Shares
  5. Proxy-Funktionalität:
    - Benutzer greifen über WebDAV auf den Server zu
    - Der Server authentifiziert über LDAP
    - Dateizugriffe werden an die entsprechenden SMB-Shares weitergeleitet
    - Unterstützt große Datei-Uploads (60 Minuten Timeout)

  Typischer Einsatzzweck

  Hauptsächlich für Bildungseinrichtungen (daher "edulution") gedacht, um:
  - Schülern/Lehrern WebDAV-Zugriff auf ihre Windows-Netzlaufwerke zu ermöglichen
  - Zugriff über verschiedene Geräte/Plattformen (macOS, Linux, mobile Geräte) auf Windows-Shares
  - Zentrale Authentifizierung über LDAP/Active Directory

  Das Ganze läuft als eigenständiger HTTPS-Server (TLS-verschlüsselt) auf Port 8443.

er hebt limiteiren vcon linuxmuster auf ist schneller etc...

so dann gfeht es weiter mit 

apt-get install edulution-fileproxy


root@edulution-fileproxy:/home/loginuser# sudo apt-get install edulution-fileproxy
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  edulution-fileproxy
0 upgraded, 1 newly installed, 0 to remove and 28 not upgraded.
Need to get 5,877 kB of archives.
After this operation, 0 B of additional disk space will be used.
Get:1 https://package.edulution.io nobel/main amd64 edulution-fileproxy amd64 1.0.14 [5,877 kB]
Fetched 5,877 kB in 0s (18.3 MB/s)            
Selecting previously unselected package edulution-fileproxy.
(Reading database ... 87290 files and directories currently installed.)
Preparing to unpack .../edulution-fileproxy_1.0.14_amd64.deb ...
Unpacking edulution-fileproxy (1.0.14) ...
Setting up edulution-fileproxy (1.0.14) ...
Generating self-signed certificate for WebDAV...
Certificate generated successfully at:
  - /etc/edulution-fileproxy/webdav.pem
  - /etc/edulution-fileproxy/webdav.key
Created config.yml from config.example.yml
Please edit /etc/edulution-fileproxy/config.yml to configure the service
Systemd daemon reloaded
Service not running, skipping restart
Installation complete!
Scanning processes...                                                                                        
Scanning linux images...                                                                                     

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
root@edulution-fileproxy:/home/loginuser# 


da gibte s dann eine config
ldap:
  server: "ldaps://10.0.0.1:636"
  insecure_skip_verify: true

smb:
  server: "10.0.0.1"
  username: "global-admin"      # only nessesary if you use share_autodiscover: true
  password: "Muster!"           # only nessesary if you use share_autodiscover: true
  domain: "LINUXMUSTER"
  share_autodiscover: true
  shares:                       # will be ignored if share_autodiscover: true
    - name: default-school      # use smb -> server as SMB-Server
    - name: linuxmuster-global  # use smb -> server as SMB-Server
    - name: test
      server: 10.0.0.3

http:
  address: ":8443"
  webdav_prefix: "/webdav/"
  cert_file: "/etc/edulution-fileproxy/webdav.pem"
  key_file: "/etc/edulution-fileproxy/webdav.key"

log:
  level: "info"                 # options: trace, debug, info, warn, error, fatal, panic
  file: "/var/log/edulution-fileproxy/webdav-server.log"

/etc/edulution-fileproxy/config.yml

die muss man eben anoassne beauchet di ekommentare wie genau

anforderunhgen an die VM 

Ubuntu 24
4GB ram
2 cpu mode host
40gb hdd 

da even vm erstellen 

ports usw...
Gute Frage! Lass mich das für dich aufschlüsseln - wer braucht welche Secrets und wohin sie müssen:

  1. LDAP-Credentials

  Wer braucht sie?
  - Der edulution-fileproxy Server selbst

  Wofür?
  - Um Benutzer zu authentifizieren, die sich am WebDAV anmelden

  Wo?
  - In der config.yml → Sektion ldap:
  - Nur der LDAP-Server-URL (keine Credentials nötig, da User-Login)
  ldap:
    server: "ldaps://10.0.0.1:636"

  2. SMB Admin-Credentials (global-admin)

  Wer braucht sie?
  - Der edulution-fileproxy Server

  Wofür?
  - Nur für share_autodiscover: true - um automatisch alle verfügbaren Shares zu listen
  - Wenn share_autodiscover: false, dann nicht nötig!

  Wo?
  smb:
    username: "global-admin"
    password: "Muster!"
    domain: "LINUXMUSTER"
    share_autodiscover: true

  3. SMB User-Credentials (normale Benutzer)

  Wer braucht sie?
  - Jeder einzelne Benutzer, der auf seine Dateien zugreifen will

  Wofür?
  - Um sich am WebDAV anzumelden
  - Der Proxy nutzt diese Credentials dann für den SMB-Zugriff

  Wo?
  - NICHT in der Config!
  - Der User gibt sie im WebDAV-Client ein (z.B. Finder, Windows Explorer, Cyberduck)
  - Format: DOMAIN\username + Passwort

  4. TLS-Zertifikate

  Wer braucht sie?
  - Der edulution-fileproxy Server

  Wofür?
  - HTTPS-Verschlüsselung des WebDAV-Servers

  Wo?
  http:
    cert_file: "/etc/edulution-fileproxy/webdav.pem"
    key_file: "/etc/edulution-fileproxy/webdav.key"

  Zusammenfassung - Flow:

  1. User → WebDAV-Client → gibt LDAP-Credentials ein
  2. edulution-fileproxy → prüft User via LDAP
  3. edulution-fileproxy → nutzt User-Credentials für SMB-Verbindung
  4. edulution-fileproxy → greift auf SMB-Share zu (mit User-Rechten!)

  Der Clou: Der Proxy macht Credential-Durchreichung - jeder User sieht nur seine eigenen Dateien mit
  seinen eigenen Berechtigungen!


config angepasst bsp:
ldap:
  server: "ldaps://10.1.0.1:636"
  insecure_skip_verify: true

smb:
  server: "10.1.0.101"
  #username: "global-admin"      # only nessesary if you use share_autodiscover: true
  #password: "Muster!"           # only nessesary if you use share_autodiscover: true
  domain: "LINUXMUSTER"
  share_autodiscover: true
  shares:                       # will be ignored if share_autodiscover: true
    - name: default-school      # use smb -> server as SMB-Server
    - name: linuxmuster-global  # use smb -> server as SMB-Server
    - name: test
      server: 10.1.0.101

http:
  address: ":8443"
  webdav_prefix: "/webdav/"
  cert_file: "/etc/edulution-fileproxy/webdav.pem"
  key_file: "/etc/edulution-fileproxy/webdav.key"

log:
  level: "info"                 # options: trace, debug, info, warn, error, fatal, panic
  file: "/var/log/edulution-fileproxy/webdav-server.log"

fertige conf:
  GNU nano 7.2                                                /etc/edulution-fileproxy/config.yml                                                         
ldap:
  server: "ldaps://10.1.0.1:636"
  insecure_skip_verify: true

smb:
  server: "10.1.0.101"
  #username: "global-admin"      # only nessesary if you use share_autodiscover: true
  #password: "Muster!"           # only nessesary if you use share_autodiscover: true
  domain: "LINUXMUSTER"
  share_autodiscover: false
  shares:                       # will be ignored if share_autodiscover: true
    - name: default-school      # use smb -> server as SMB-Server
    - name: linuxmuster-global  # use smb -> server as SMB-Server
    - name: test
      server: 10.1.0.101

http:
  address: ":8443"
  webdav_prefix: "/webdav/"
  cert_file: "/etc/edulution-fileproxy/webdav.pem"
  key_file: "/etc/edulution-fileproxy/webdav.key"

log:
  level: "trace"                 # options: trace, debug, info, warn, error, fatal, panic
  file: "/var/log/edulution-fileproxy/webdav-server.log"



schau ob cert existiert

cat "/etc/edulution-fileproxy/webdav.pem

sollte aber da sein


root@edulution-fileproxy:/home/loginuser# systemctl start edulution-fileproxy
root@edulution-fileproxy:/home/loginuser# systemctl enable edulution-fileproxy
Created symlink /etc/systemd/system/multi-user.target.wants/edulution-fileproxy.service → /usr/lib/systemd/system/edulution-fileproxy.service.
root@edulution-fileproxy:/home/loginuser# 

hier aiucht auf ldap oder oeben ldaps achten je nach dem wie euer server konfiguriert ist
lokal ohne cert via ip ldap ohne cert geht 

https://github.com/edulution-io/edulution-installer/blob/main/public/download/traefik.yml.template
dynamic config data/traefik/config/webdav.yml -> IP Adresse auf FileProxy umstellen


Auf edulution VM::

  GNU nano 7.2             data/traefik/config/webdav.yml                       

http:
  routers:
    webdav:
      rule: "PathPrefix(`/webdav`)"
      service: webdav
      entryPoints:
        - websecure
      tls: {}

  services:
    webdav:
      loadBalancer:
        servers:
          - url: "https://10.1.0.1/webdav"
umstellen auf ip von fileproxy


aslo:
  GNU nano 7.2             data/traefik/config/webdav.yml                       

http:
  routers:
    webdav:
      rule: "PathPrefix(`/webdav`)"
      service: webdav
      entryPoints:
        - websecure
      tls: {}

  services:
    webdav:
      loadBalancer:
        servers:
          - url: "https://10.1.0.5/webdav"



dann neu starten und in edulution einloggen

Bilder pfade ..
 /Users/dennisbolling/Downloads/screenshot/edu/new/21.10.25/*


dann als global admin auf endulution in einstellungen files 

da dann sie einstelluengen tätigen wei aiuch den bildern hier auch richtig ip achten

mach dafr die doku fertig versuceh das in liogische reihenfolge zu bringen an einen guten punkt man muss es denke ich einteilen usw.. du amchst da schon 